{
  "openapi": "3.0.3",
  "info": {
    "title": "User Schema",
    "version": "1.0.0"
  },
  "paths": {},
  "components": {
    "schemas": {
      "User": {
        "type": "object",
        "description": "Represents a user in Layer5 Cloud (Meshery)",
        "required": [
          "id",
          "user_id",
          "provider",
          "email",
          "first_name",
          "last_name",
          "status",
          "created_at",
          "updated_at",
          "last_login_time",
          "deleted_at"
        ],
        "properties": {
          "id": {
            "description": "Unique identifier for the user",
            "type": "string",
            "format": "uuid",
            "x-go-type": "uuid.UUID",
            "x-go-type-import": {
              "path": "github.com/gofrs/uuid"
            },
            "default": "00000000-0000-0000-0000-000000000000"
          },
          "user_id": {
            "type": "string",
            "maxLength": 200,
            "description": "User identifier (username or external ID)"
          },
          "provider": {
            "type": "string",
            "maxLength": 100,
            "description": "Authentication provider (e.g., Layer5 Cloud, Twitter, Facebook, Github)",
            "examples": [
              "local",
              "github",
              "google",
              "twitter"
            ]
          },
          "email": {
            "type": "string",
            "format": "email",
            "maxLength": 300,
            "description": "User's email address"
          },
          "first_name": {
            "type": "string",
            "maxLength": 200,
            "description": "User's first name"
          },
          "last_name": {
            "type": "string",
            "maxLength": 300,
            "description": "User's last name"
          },
          "avatar_url": {
            "type": "string",
            "format": "uri",
            "maxLength": 500,
            "description": "URL to user's avatar image"
          },
          "status": {
            "type": "string",
            "maxLength": 100,
            "enum": [
              "active",
              "inactive",
              "pending",
              "anonymous"
            ],
            "description": "User account status"
          },
          "bio": {
            "type": "string",
            "maxLength": 1000,
            "default": "",
            "description": "User's biography or description"
          },
          "country": {
            "type": "object",
            "description": "User's country information stored as JSONB",
            "additionalProperties": true
          },
          "region": {
            "type": "object",
            "description": "User's region information stored as JSONB",
            "additionalProperties": true
          },
          "preferences": {
            "type": "object",
            "default": {},
            "description": "User preferences stored as JSONB. Can contain arbitrary key-value pairs for user settings and configurations",
            "additionalProperties": true,
            "properties": {
              "welcome_email": {
                "type": "boolean",
                "description": "Whether user wants to receive welcome emails"
              },
              "notify_role_change": {
                "type": "boolean",
                "description": "Whether user wants to be notified of role changes"
              },
              "meshAdapters": {
                "type": "array",
                "description": "Mesh adapters configuration",
                "items": {
                  "type": "object"
                }
              },
              "grafana": {
                "type": "object",
                "description": "Grafana configuration",
                "properties": {
                  "grafanaURL": {
                    "type": "string"
                  },
                  "grafanaAPIKey": {
                    "type": "string"
                  },
                  "selectedBoardsConfigs": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  }
                }
              },
              "prometheus": {
                "type": "object",
                "description": "Prometheus configuration",
                "properties": {
                  "prometheusURL": {
                    "type": "string"
                  },
                  "selectedPrometheusBoardsConfigs": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  }
                }
              },
              "loadTestPrefs": {
                "type": "object",
                "description": "Load test preferences",
                "properties": {
                  "c": {
                    "type": "integer",
                    "description": "Concurrent requests"
                  },
                  "qps": {
                    "type": "integer",
                    "description": "Queries per second"
                  },
                  "t": {
                    "type": "string",
                    "description": "Duration"
                  },
                  "gen": {
                    "type": "string",
                    "description": "Load generator"
                  }
                }
              },
              "anonymousUsageStats": {
                "type": "boolean",
                "description": "Whether to collect anonymous usage statistics"
              },
              "anonymousPerfResults": {
                "type": "boolean",
                "description": "Whether to collect anonymous performance results"
              },
              "dashboardPreferences": {
                "type": "object",
                "additionalProperties": true,
                "description": "Dashboard preferences"
              },
              "selectedOrganizationID": {
                "type": "string",
                "description": "Currently selected organization ID"
              },
              "selectedWorkspaceForOrganizations": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                },
                "description": "Selected workspace for each organization"
              },
              "usersExtensionPreferences": {
                "type": "object",
                "additionalProperties": true,
                "description": "User extension preferences"
              },
              "remoteProviderPreferences": {
                "type": "object",
                "additionalProperties": true,
                "description": "Remote provider preferences"
              }
            }
          },
          "accepted_terms_at": {
            "description": "Timestamp when user accepted terms and conditions",
            "type": "string",
            "format": "date-time",
            "x-go-type-skip-optional-pointer": true
          },
          "first_login_time": {
            "description": "Timestamp of user's first login",
            "type": "string",
            "format": "date-time",
            "x-go-type-skip-optional-pointer": true
          },
          "last_login_time": {
            "description": "Timestamp of user's most recent login",
            "type": "string",
            "format": "date-time",
            "x-go-type-skip-optional-pointer": true
          },
          "created_at": {
            "description": "Timestamp when the user record was created",
            "type": "string",
            "format": "date-time",
            "x-go-type-skip-optional-pointer": true
          },
          "updated_at": {
            "description": "Timestamp when the user record was last updated",
            "type": "string",
            "format": "date-time",
            "x-go-type-skip-optional-pointer": true
          },
          "deleted_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "Timestamp when the user record was soft-deleted (null if not deleted)"
          }
        },
        "additionalProperties": false
      },
      "GetUserResponse": {
        "description": "Response schema for getting user information, includes user data with roles, teams, and organizations",
        "allOf": [
          {
            "type": "object",
            "description": "Represents a user in Layer5 Cloud (Meshery)",
            "required": [
              "id",
              "user_id",
              "provider",
              "email",
              "first_name",
              "last_name",
              "status",
              "created_at",
              "updated_at",
              "last_login_time",
              "deleted_at"
            ],
            "properties": {
              "id": {
                "description": "Unique identifier for the user",
                "type": "string",
                "format": "uuid",
                "x-go-type": "uuid.UUID",
                "x-go-type-import": {
                  "path": "github.com/gofrs/uuid"
                },
                "default": "00000000-0000-0000-0000-000000000000"
              },
              "user_id": {
                "type": "string",
                "maxLength": 200,
                "description": "User identifier (username or external ID)"
              },
              "provider": {
                "type": "string",
                "maxLength": 100,
                "description": "Authentication provider (e.g., Layer5 Cloud, Twitter, Facebook, Github)",
                "examples": [
                  "local",
                  "github",
                  "google",
                  "twitter"
                ]
              },
              "email": {
                "type": "string",
                "format": "email",
                "maxLength": 300,
                "description": "User's email address"
              },
              "first_name": {
                "type": "string",
                "maxLength": 200,
                "description": "User's first name"
              },
              "last_name": {
                "type": "string",
                "maxLength": 300,
                "description": "User's last name"
              },
              "avatar_url": {
                "type": "string",
                "format": "uri",
                "maxLength": 500,
                "description": "URL to user's avatar image"
              },
              "status": {
                "type": "string",
                "maxLength": 100,
                "enum": [
                  "active",
                  "inactive",
                  "pending",
                  "anonymous"
                ],
                "description": "User account status"
              },
              "bio": {
                "type": "string",
                "maxLength": 1000,
                "default": "",
                "description": "User's biography or description"
              },
              "country": {
                "type": "object",
                "description": "User's country information stored as JSONB",
                "additionalProperties": true
              },
              "region": {
                "type": "object",
                "description": "User's region information stored as JSONB",
                "additionalProperties": true
              },
              "preferences": {
                "type": "object",
                "default": {},
                "description": "User preferences stored as JSONB. Can contain arbitrary key-value pairs for user settings and configurations",
                "additionalProperties": true,
                "properties": {
                  "welcome_email": {
                    "type": "boolean",
                    "description": "Whether user wants to receive welcome emails"
                  },
                  "notify_role_change": {
                    "type": "boolean",
                    "description": "Whether user wants to be notified of role changes"
                  },
                  "meshAdapters": {
                    "type": "array",
                    "description": "Mesh adapters configuration",
                    "items": {
                      "type": "object"
                    }
                  },
                  "grafana": {
                    "type": "object",
                    "description": "Grafana configuration",
                    "properties": {
                      "grafanaURL": {
                        "type": "string"
                      },
                      "grafanaAPIKey": {
                        "type": "string"
                      },
                      "selectedBoardsConfigs": {
                        "type": "array",
                        "items": {
                          "type": "object"
                        }
                      }
                    }
                  },
                  "prometheus": {
                    "type": "object",
                    "description": "Prometheus configuration",
                    "properties": {
                      "prometheusURL": {
                        "type": "string"
                      },
                      "selectedPrometheusBoardsConfigs": {
                        "type": "array",
                        "items": {
                          "type": "object"
                        }
                      }
                    }
                  },
                  "loadTestPrefs": {
                    "type": "object",
                    "description": "Load test preferences",
                    "properties": {
                      "c": {
                        "type": "integer",
                        "description": "Concurrent requests"
                      },
                      "qps": {
                        "type": "integer",
                        "description": "Queries per second"
                      },
                      "t": {
                        "type": "string",
                        "description": "Duration"
                      },
                      "gen": {
                        "type": "string",
                        "description": "Load generator"
                      }
                    }
                  },
                  "anonymousUsageStats": {
                    "type": "boolean",
                    "description": "Whether to collect anonymous usage statistics"
                  },
                  "anonymousPerfResults": {
                    "type": "boolean",
                    "description": "Whether to collect anonymous performance results"
                  },
                  "dashboardPreferences": {
                    "type": "object",
                    "additionalProperties": true,
                    "description": "Dashboard preferences"
                  },
                  "selectedOrganizationID": {
                    "type": "string",
                    "description": "Currently selected organization ID"
                  },
                  "selectedWorkspaceForOrganizations": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "string"
                    },
                    "description": "Selected workspace for each organization"
                  },
                  "usersExtensionPreferences": {
                    "type": "object",
                    "additionalProperties": true,
                    "description": "User extension preferences"
                  },
                  "remoteProviderPreferences": {
                    "type": "object",
                    "additionalProperties": true,
                    "description": "Remote provider preferences"
                  }
                }
              },
              "accepted_terms_at": {
                "description": "Timestamp when user accepted terms and conditions",
                "type": "string",
                "format": "date-time",
                "x-go-type-skip-optional-pointer": true
              },
              "first_login_time": {
                "description": "Timestamp of user's first login",
                "type": "string",
                "format": "date-time",
                "x-go-type-skip-optional-pointer": true
              },
              "last_login_time": {
                "description": "Timestamp of user's most recent login",
                "type": "string",
                "format": "date-time",
                "x-go-type-skip-optional-pointer": true
              },
              "created_at": {
                "description": "Timestamp when the user record was created",
                "type": "string",
                "format": "date-time",
                "x-go-type-skip-optional-pointer": true
              },
              "updated_at": {
                "description": "Timestamp when the user record was last updated",
                "type": "string",
                "format": "date-time",
                "x-go-type-skip-optional-pointer": true
              },
              "deleted_at": {
                "type": "string",
                "format": "date-time",
                "nullable": true,
                "description": "Timestamp when the user record was soft-deleted (null if not deleted)"
              }
            },
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "role_names": {
                "type": "array",
                "items": {
                  "type": "string",
                  "enum": [
                    "admin",
                    "meshmap",
                    "curator",
                    "team admin",
                    "workspace admin",
                    "workspace manager",
                    "organization admin",
                    "user"
                  ]
                },
                "description": "List of global roles assigned to the user",
                "examples": [
                  [
                    "admin",
                    "meshmap"
                  ],
                  [
                    "user"
                  ]
                ]
              },
              "teams": {
                "type": "object",
                "description": "Teams the user belongs to with role information",
                "properties": {
                  "teams_with_roles": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  },
                  "total_count": {
                    "type": "integer"
                  }
                }
              },
              "organizations": {
                "type": "object",
                "description": "Organizations the user belongs to with role information",
                "properties": {
                  "organizations_with_roles": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  },
                  "total_count": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        ]
      },
      "Preference": {
        "type": "object",
        "required": [
          "anonymousUsageStats",
          "anonymousPerfResults",
          "updatedAt",
          "dashboardPreferences",
          "selectedOrganizationID",
          "selectedWorkspaceForOrganizations",
          "usersExtensionPreferences",
          "RemoteProviderPreferences"
        ],
        "properties": {
          "meshAdapters": {
            "type": "array",
            "items": {
              "x-go-type": "Adapter",
              "type": "object",
              "description": "Placeholder for Adapter struct definition."
            }
          },
          "grafana": {
            "x-go-type": "Grafana",
            "type": "object",
            "properties": {
              "grafanaURL": {
                "type": "string"
              },
              "grafanaAPIKey": {
                "type": "string"
              },
              "selectedBoardsConfigs": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "board": {
                      "type": "object",
                      "description": "Placeholder for GrafanaBoard definition (define fields as needed)"
                    },
                    "panels": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "description": "Grafana panel structure imported from github.com/grafana-tools/sdk"
                      }
                    },
                    "templateVars": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "prometheus": {
            "x-go-type": "Prometheus",
            "type": "object",
            "properties": {
              "prometheusURL": {
                "type": "string"
              },
              "selectedPrometheusBoardsConfigs": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "board": {
                      "type": "object",
                      "description": "Placeholder for GrafanaBoard definition (define fields as needed)"
                    },
                    "panels": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "description": "Grafana panel structure imported from github.com/grafana-tools/sdk"
                      }
                    },
                    "templateVars": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "loadTestPrefs": {
            "x-go-type": "LoadTestPreferences",
            "type": "object",
            "properties": {
              "c": {
                "type": "integer",
                "description": "Concurrent requests"
              },
              "qps": {
                "type": "integer",
                "description": "Queries per second"
              },
              "t": {
                "type": "string",
                "description": "Duration"
              },
              "gen": {
                "type": "string",
                "description": "Load generator"
              }
            }
          },
          "anonymousUsageStats": {
            "type": "boolean"
          },
          "anonymousPerfResults": {
            "type": "boolean"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "dashboardPreferences": {
            "type": "object",
            "additionalProperties": true
          },
          "selectedOrganizationID": {
            "type": "string"
          },
          "selectedWorkspaceForOrganizations": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          },
          "usersExtensionPreferences": {
            "type": "object",
            "additionalProperties": true
          },
          "remoteProviderPreferences": {
            "type": "object",
            "additionalProperties": true
          }
        }
      },
      "Adapter": {
        "type": "object",
        "description": "Placeholder for Adapter struct definition."
      },
      "Grafana": {
        "type": "object",
        "properties": {
          "grafanaURL": {
            "type": "string"
          },
          "grafanaAPIKey": {
            "type": "string"
          },
          "selectedBoardsConfigs": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "board": {
                  "type": "object",
                  "description": "Placeholder for GrafanaBoard definition (define fields as needed)"
                },
                "panels": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "description": "Grafana panel structure imported from github.com/grafana-tools/sdk"
                  }
                },
                "templateVars": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      },
      "SelectedGrafanaConfig": {
        "type": "object",
        "properties": {
          "board": {
            "type": "object",
            "description": "Placeholder for GrafanaBoard definition (define fields as needed)"
          },
          "panels": {
            "type": "array",
            "items": {
              "type": "object",
              "description": "Grafana panel structure imported from github.com/grafana-tools/sdk"
            }
          },
          "templateVars": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "GrafanaBoard": {
        "type": "object",
        "description": "Placeholder for GrafanaBoard definition (define fields as needed)"
      },
      "Panel": {
        "type": "object",
        "description": "Grafana panel structure imported from github.com/grafana-tools/sdk"
      },
      "Prometheus": {
        "type": "object",
        "properties": {
          "prometheusURL": {
            "type": "string"
          },
          "selectedPrometheusBoardsConfigs": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "board": {
                  "type": "object",
                  "description": "Placeholder for GrafanaBoard definition (define fields as needed)"
                },
                "panels": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "description": "Grafana panel structure imported from github.com/grafana-tools/sdk"
                  }
                },
                "templateVars": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      },
      "LoadTestPreferences": {
        "type": "object",
        "properties": {
          "c": {
            "type": "integer",
            "description": "Concurrent requests"
          },
          "qps": {
            "type": "integer",
            "description": "Queries per second"
          },
          "t": {
            "type": "string",
            "description": "Duration"
          },
          "gen": {
            "type": "string",
            "description": "Load generator"
          }
        }
      }
    }
  }
}

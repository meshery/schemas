{
  "openapi": "3.0.0",
  "info": {
    "title": "feature",
    "description": "OpenAPI schema for the Features construct with entitlement-related properties",
    "version": "v1beta1"
  },
  "tags": [
    {
      "name": "Features",
      "description": "Operations related to features and entitlements"
    }
  ],
  "paths": {
    "/api/entitlement/features": {
      "get": {
        "x-internal": [
          "cloud"
        ],
        "operationId": "getFeatures",
        "tags": [
          "Features"
        ],
        "summary": "Get all features associated with plans",
        "responses": {
          "200": {
            "description": "Features fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "x-go-type": "Feature",
                    "type": "object",
                    "required": [
                      "id",
                      "plan_id",
                      "quantity",
                      "feature"
                    ],
                    "properties": {
                      "id": {
                        "x-oapi-codegen-extra-tags": {
                          "db": "id"
                        },
                        "type": "string",
                        "format": "uuid",
                        "description": "A Universally Unique Identifier used to uniquely identify entities in Meshery. The UUID core definition is used across different schemas.",
                        "x-go-type": "uuid.UUID",
                        "x-go-type-import": {
                          "path": "github.com/gofrs/uuid"
                        }
                      },
                      "plan_id": {
                        "x-oapi-codegen-extra-tags": {
                          "db": "plan_id"
                        },
                        "type": "string",
                        "format": "uuid",
                        "description": "A Universally Unique Identifier used to uniquely identify entities in Meshery. The UUID core definition is used across different schemas.",
                        "x-go-type": "uuid.UUID",
                        "x-go-type-import": {
                          "path": "github.com/gofrs/uuid"
                        }
                      },
                      "plan": {
                        "x-go-type": "plan.Plan",
                        "x-go-type-import": {
                          "path": "github.com/meshery/schemas/models/v1beta1/plan"
                        },
                        "x-oapi-codegen-extra-tags": {
                          "belongs_to": "plans",
                          "fk_id": "PlanId",
                          "yaml": "plan,omitempty",
                          "json": "plan,omitempty"
                        },
                        "type": "object",
                        "properties": {
                          "id": {
                            "x-oapi-codegen-extra-tags": {
                              "db": "id",
                              "json": "id",
                              "csv": "id"
                            },
                            "type": "string",
                            "format": "uuid",
                            "description": "A Universally Unique Identifier used to uniquely identify entities in Meshery. The UUID core definition is used across different schemas.",
                            "x-go-type": "uuid.UUID",
                            "x-go-type-import": {
                              "path": "github.com/gofrs/uuid"
                            }
                          },
                          "name": {
                            "type": "string",
                            "x-go-type": "PlanName",
                            "x-oapi-codegen-extra-tags": {
                              "db": "name",
                              "json": "name",
                              "csv": "name"
                            },
                            "description": "Name of the plan",
                            "enum": [
                              "Free",
                              "Team Designer",
                              "Team Operator",
                              "Enterprise"
                            ]
                          },
                          "cadence": {
                            "x-go-type": "PlanCadence",
                            "x-oapi-codegen-extra-tags": {
                              "db": "cadence",
                              "json": "cadence",
                              "csv": "cadence"
                            },
                            "type": "string",
                            "enum": [
                              "monthly",
                              "yearly"
                            ]
                          },
                          "unit": {
                            "x-go-type": "PlanUnit",
                            "x-oapi-codegen-extra-tags": {
                              "db": "unit",
                              "json": "unit",
                              "csv": "unit"
                            },
                            "type": "string",
                            "enum": [
                              "user",
                              "free"
                            ]
                          },
                          "minimum_units": {
                            "type": "integer",
                            "description": "Minimum number of units required for the plan",
                            "x-oapi-codegen-extra-tags": {
                              "db": "minimum_units",
                              "json": "minimum_units",
                              "csv": "minimum_units"
                            }
                          },
                          "price_per_unit": {
                            "type": "number",
                            "description": "Price per unit of the plan",
                            "x-oapi-codegen-extra-tags": {
                              "db": "price_per_unit",
                              "json": "price_per_unit",
                              "csv": "price_per_unit"
                            }
                          },
                          "currency": {
                            "x-go-type": "Currency",
                            "x-oapi-codegen-extra-tags": {
                              "db": "currency",
                              "json": "currency",
                              "csv": "currency"
                            },
                            "type": "string",
                            "enum": [
                              "usd"
                            ]
                          }
                        },
                        "required": [
                          "id",
                          "name",
                          "cadence",
                          "unit",
                          "price_per_unit",
                          "minimum_units",
                          "price_id",
                          "currency"
                        ]
                      },
                      "name": {
                        "x-go-type": "FeatureName",
                        "x-oapi-codegen-extra-tags": {
                          "db": "name"
                        },
                        "type": "string",
                        "enum": [
                          "ComponentsInDesign",
                          "RelationshipsInDesign",
                          "DesignsInWorkspace",
                          "WorkspacesInOrganization",
                          "ImageSizeInDesign",
                          "SizePerDesign"
                        ],
                        "description": "Enumeration of possible feature types"
                      },
                      "quantity": {
                        "type": "number",
                        "description": "Quantity of the feature allowed, use 9999999999 for unlimited",
                        "x-oapi-codegen-extra-tags": {
                          "db": "quantity"
                        }
                      },
                      "created_at": {
                        "x-oapi-codegen-extra-tags": {
                          "db": "created_at"
                        },
                        "type": "string",
                        "format": "date-time",
                        "x-go-type-skip-optional-pointer": true
                      },
                      "updated_at": {
                        "x-oapi-codegen-extra-tags": {
                          "db": "updated_at"
                        },
                        "type": "string",
                        "format": "date-time",
                        "x-go-type-skip-optional-pointer": true
                      }
                    },
                    "additionalProperties": false
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body or request param",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Expired JWT token used or insufficient privilege",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/entitlement/subscriptions/organizations/{organizationId}/features": {
      "get": {
        "x-internal": [
          "cloud"
        ],
        "operationId": "getFeaturesByOrganization",
        "tags": [
          "Features"
        ],
        "summary": "Get all features associated with plans",
        "parameters": [
          {
            "name": "organizationId",
            "in": "path",
            "description": "The ID of the organization",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "x-go-type": "uuid.UUID",
              "x-go-type-import": {
                "path": "github.com/gofrs/uuid"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Features fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "x-go-type": "Feature",
                    "type": "object",
                    "required": [
                      "id",
                      "plan_id",
                      "quantity",
                      "feature"
                    ],
                    "properties": {
                      "id": {
                        "x-oapi-codegen-extra-tags": {
                          "db": "id"
                        },
                        "type": "string",
                        "format": "uuid",
                        "description": "A Universally Unique Identifier used to uniquely identify entities in Meshery. The UUID core definition is used across different schemas.",
                        "x-go-type": "uuid.UUID",
                        "x-go-type-import": {
                          "path": "github.com/gofrs/uuid"
                        }
                      },
                      "plan_id": {
                        "x-oapi-codegen-extra-tags": {
                          "db": "plan_id"
                        },
                        "type": "string",
                        "format": "uuid",
                        "description": "A Universally Unique Identifier used to uniquely identify entities in Meshery. The UUID core definition is used across different schemas.",
                        "x-go-type": "uuid.UUID",
                        "x-go-type-import": {
                          "path": "github.com/gofrs/uuid"
                        }
                      },
                      "plan": {
                        "x-go-type": "plan.Plan",
                        "x-go-type-import": {
                          "path": "github.com/meshery/schemas/models/v1beta1/plan"
                        },
                        "x-oapi-codegen-extra-tags": {
                          "belongs_to": "plans",
                          "fk_id": "PlanId",
                          "yaml": "plan,omitempty",
                          "json": "plan,omitempty"
                        },
                        "type": "object",
                        "properties": {
                          "id": {
                            "x-oapi-codegen-extra-tags": {
                              "db": "id",
                              "json": "id",
                              "csv": "id"
                            },
                            "type": "string",
                            "format": "uuid",
                            "description": "A Universally Unique Identifier used to uniquely identify entities in Meshery. The UUID core definition is used across different schemas.",
                            "x-go-type": "uuid.UUID",
                            "x-go-type-import": {
                              "path": "github.com/gofrs/uuid"
                            }
                          },
                          "name": {
                            "type": "string",
                            "x-go-type": "PlanName",
                            "x-oapi-codegen-extra-tags": {
                              "db": "name",
                              "json": "name",
                              "csv": "name"
                            },
                            "description": "Name of the plan",
                            "enum": [
                              "Free",
                              "Team Designer",
                              "Team Operator",
                              "Enterprise"
                            ]
                          },
                          "cadence": {
                            "x-go-type": "PlanCadence",
                            "x-oapi-codegen-extra-tags": {
                              "db": "cadence",
                              "json": "cadence",
                              "csv": "cadence"
                            },
                            "type": "string",
                            "enum": [
                              "monthly",
                              "yearly"
                            ]
                          },
                          "unit": {
                            "x-go-type": "PlanUnit",
                            "x-oapi-codegen-extra-tags": {
                              "db": "unit",
                              "json": "unit",
                              "csv": "unit"
                            },
                            "type": "string",
                            "enum": [
                              "user",
                              "free"
                            ]
                          },
                          "minimum_units": {
                            "type": "integer",
                            "description": "Minimum number of units required for the plan",
                            "x-oapi-codegen-extra-tags": {
                              "db": "minimum_units",
                              "json": "minimum_units",
                              "csv": "minimum_units"
                            }
                          },
                          "price_per_unit": {
                            "type": "number",
                            "description": "Price per unit of the plan",
                            "x-oapi-codegen-extra-tags": {
                              "db": "price_per_unit",
                              "json": "price_per_unit",
                              "csv": "price_per_unit"
                            }
                          },
                          "currency": {
                            "x-go-type": "Currency",
                            "x-oapi-codegen-extra-tags": {
                              "db": "currency",
                              "json": "currency",
                              "csv": "currency"
                            },
                            "type": "string",
                            "enum": [
                              "usd"
                            ]
                          }
                        },
                        "required": [
                          "id",
                          "name",
                          "cadence",
                          "unit",
                          "price_per_unit",
                          "minimum_units",
                          "price_id",
                          "currency"
                        ]
                      },
                      "name": {
                        "x-go-type": "FeatureName",
                        "x-oapi-codegen-extra-tags": {
                          "db": "name"
                        },
                        "type": "string",
                        "enum": [
                          "ComponentsInDesign",
                          "RelationshipsInDesign",
                          "DesignsInWorkspace",
                          "WorkspacesInOrganization",
                          "ImageSizeInDesign",
                          "SizePerDesign"
                        ],
                        "description": "Enumeration of possible feature types"
                      },
                      "quantity": {
                        "type": "number",
                        "description": "Quantity of the feature allowed, use 9999999999 for unlimited",
                        "x-oapi-codegen-extra-tags": {
                          "db": "quantity"
                        }
                      },
                      "created_at": {
                        "x-oapi-codegen-extra-tags": {
                          "db": "created_at"
                        },
                        "type": "string",
                        "format": "date-time",
                        "x-go-type-skip-optional-pointer": true
                      },
                      "updated_at": {
                        "x-oapi-codegen-extra-tags": {
                          "db": "updated_at"
                        },
                        "type": "string",
                        "format": "date-time",
                        "x-go-type-skip-optional-pointer": true
                      }
                    },
                    "additionalProperties": false
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body or request param",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Expired JWT token used or insufficient privilege",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "parameters": {
      "organization_id": {
        "name": "organizationId",
        "in": "path",
        "description": "The ID of the organization",
        "required": true,
        "schema": {
          "type": "string",
          "format": "uuid",
          "x-go-type": "uuid.UUID",
          "x-go-type-import": {
            "path": "github.com/gofrs/uuid"
          }
        }
      }
    },
    "schemas": {
      "FeaturesPage": {
        "type": "array",
        "items": {
          "x-go-type": "Feature",
          "type": "object",
          "required": [
            "id",
            "plan_id",
            "quantity",
            "feature"
          ],
          "properties": {
            "id": {
              "x-oapi-codegen-extra-tags": {
                "db": "id"
              },
              "type": "string",
              "format": "uuid",
              "description": "A Universally Unique Identifier used to uniquely identify entities in Meshery. The UUID core definition is used across different schemas.",
              "x-go-type": "uuid.UUID",
              "x-go-type-import": {
                "path": "github.com/gofrs/uuid"
              }
            },
            "plan_id": {
              "x-oapi-codegen-extra-tags": {
                "db": "plan_id"
              },
              "type": "string",
              "format": "uuid",
              "description": "A Universally Unique Identifier used to uniquely identify entities in Meshery. The UUID core definition is used across different schemas.",
              "x-go-type": "uuid.UUID",
              "x-go-type-import": {
                "path": "github.com/gofrs/uuid"
              }
            },
            "plan": {
              "x-go-type": "plan.Plan",
              "x-go-type-import": {
                "path": "github.com/meshery/schemas/models/v1beta1/plan"
              },
              "x-oapi-codegen-extra-tags": {
                "belongs_to": "plans",
                "fk_id": "PlanId",
                "yaml": "plan,omitempty",
                "json": "plan,omitempty"
              },
              "type": "object",
              "properties": {
                "id": {
                  "x-oapi-codegen-extra-tags": {
                    "db": "id",
                    "json": "id",
                    "csv": "id"
                  },
                  "type": "string",
                  "format": "uuid",
                  "description": "A Universally Unique Identifier used to uniquely identify entities in Meshery. The UUID core definition is used across different schemas.",
                  "x-go-type": "uuid.UUID",
                  "x-go-type-import": {
                    "path": "github.com/gofrs/uuid"
                  }
                },
                "name": {
                  "type": "string",
                  "x-go-type": "PlanName",
                  "x-oapi-codegen-extra-tags": {
                    "db": "name",
                    "json": "name",
                    "csv": "name"
                  },
                  "description": "Name of the plan",
                  "enum": [
                    "Free",
                    "Team Designer",
                    "Team Operator",
                    "Enterprise"
                  ]
                },
                "cadence": {
                  "x-go-type": "PlanCadence",
                  "x-oapi-codegen-extra-tags": {
                    "db": "cadence",
                    "json": "cadence",
                    "csv": "cadence"
                  },
                  "type": "string",
                  "enum": [
                    "monthly",
                    "yearly"
                  ]
                },
                "unit": {
                  "x-go-type": "PlanUnit",
                  "x-oapi-codegen-extra-tags": {
                    "db": "unit",
                    "json": "unit",
                    "csv": "unit"
                  },
                  "type": "string",
                  "enum": [
                    "user",
                    "free"
                  ]
                },
                "minimum_units": {
                  "type": "integer",
                  "description": "Minimum number of units required for the plan",
                  "x-oapi-codegen-extra-tags": {
                    "db": "minimum_units",
                    "json": "minimum_units",
                    "csv": "minimum_units"
                  }
                },
                "price_per_unit": {
                  "type": "number",
                  "description": "Price per unit of the plan",
                  "x-oapi-codegen-extra-tags": {
                    "db": "price_per_unit",
                    "json": "price_per_unit",
                    "csv": "price_per_unit"
                  }
                },
                "currency": {
                  "x-go-type": "Currency",
                  "x-oapi-codegen-extra-tags": {
                    "db": "currency",
                    "json": "currency",
                    "csv": "currency"
                  },
                  "type": "string",
                  "enum": [
                    "usd"
                  ]
                }
              },
              "required": [
                "id",
                "name",
                "cadence",
                "unit",
                "price_per_unit",
                "minimum_units",
                "price_id",
                "currency"
              ]
            },
            "name": {
              "x-go-type": "FeatureName",
              "x-oapi-codegen-extra-tags": {
                "db": "name"
              },
              "type": "string",
              "enum": [
                "ComponentsInDesign",
                "RelationshipsInDesign",
                "DesignsInWorkspace",
                "WorkspacesInOrganization",
                "ImageSizeInDesign",
                "SizePerDesign"
              ],
              "description": "Enumeration of possible feature types"
            },
            "quantity": {
              "type": "number",
              "description": "Quantity of the feature allowed, use 9999999999 for unlimited",
              "x-oapi-codegen-extra-tags": {
                "db": "quantity"
              }
            },
            "created_at": {
              "x-oapi-codegen-extra-tags": {
                "db": "created_at"
              },
              "type": "string",
              "format": "date-time",
              "x-go-type-skip-optional-pointer": true
            },
            "updated_at": {
              "x-oapi-codegen-extra-tags": {
                "db": "updated_at"
              },
              "type": "string",
              "format": "date-time",
              "x-go-type-skip-optional-pointer": true
            }
          },
          "additionalProperties": false
        }
      },
      "FeatureName": {
        "type": "string",
        "enum": [
          "ComponentsInDesign",
          "RelationshipsInDesign",
          "DesignsInWorkspace",
          "WorkspacesInOrganization",
          "ImageSizeInDesign",
          "SizePerDesign"
        ],
        "description": "Enumeration of possible feature types"
      },
      "Feature": {
        "type": "object",
        "required": [
          "id",
          "plan_id",
          "quantity",
          "feature"
        ],
        "properties": {
          "id": {
            "x-oapi-codegen-extra-tags": {
              "db": "id"
            },
            "type": "string",
            "format": "uuid",
            "description": "A Universally Unique Identifier used to uniquely identify entities in Meshery. The UUID core definition is used across different schemas.",
            "x-go-type": "uuid.UUID",
            "x-go-type-import": {
              "path": "github.com/gofrs/uuid"
            }
          },
          "plan_id": {
            "x-oapi-codegen-extra-tags": {
              "db": "plan_id"
            },
            "type": "string",
            "format": "uuid",
            "description": "A Universally Unique Identifier used to uniquely identify entities in Meshery. The UUID core definition is used across different schemas.",
            "x-go-type": "uuid.UUID",
            "x-go-type-import": {
              "path": "github.com/gofrs/uuid"
            }
          },
          "plan": {
            "x-go-type": "plan.Plan",
            "x-go-type-import": {
              "path": "github.com/meshery/schemas/models/v1beta1/plan"
            },
            "x-oapi-codegen-extra-tags": {
              "belongs_to": "plans",
              "fk_id": "PlanId",
              "yaml": "plan,omitempty",
              "json": "plan,omitempty"
            },
            "type": "object",
            "properties": {
              "id": {
                "x-oapi-codegen-extra-tags": {
                  "db": "id",
                  "json": "id",
                  "csv": "id"
                },
                "type": "string",
                "format": "uuid",
                "description": "A Universally Unique Identifier used to uniquely identify entities in Meshery. The UUID core definition is used across different schemas.",
                "x-go-type": "uuid.UUID",
                "x-go-type-import": {
                  "path": "github.com/gofrs/uuid"
                }
              },
              "name": {
                "type": "string",
                "x-go-type": "PlanName",
                "x-oapi-codegen-extra-tags": {
                  "db": "name",
                  "json": "name",
                  "csv": "name"
                },
                "description": "Name of the plan",
                "enum": [
                  "Free",
                  "Team Designer",
                  "Team Operator",
                  "Enterprise"
                ]
              },
              "cadence": {
                "x-go-type": "PlanCadence",
                "x-oapi-codegen-extra-tags": {
                  "db": "cadence",
                  "json": "cadence",
                  "csv": "cadence"
                },
                "type": "string",
                "enum": [
                  "monthly",
                  "yearly"
                ]
              },
              "unit": {
                "x-go-type": "PlanUnit",
                "x-oapi-codegen-extra-tags": {
                  "db": "unit",
                  "json": "unit",
                  "csv": "unit"
                },
                "type": "string",
                "enum": [
                  "user",
                  "free"
                ]
              },
              "minimum_units": {
                "type": "integer",
                "description": "Minimum number of units required for the plan",
                "x-oapi-codegen-extra-tags": {
                  "db": "minimum_units",
                  "json": "minimum_units",
                  "csv": "minimum_units"
                }
              },
              "price_per_unit": {
                "type": "number",
                "description": "Price per unit of the plan",
                "x-oapi-codegen-extra-tags": {
                  "db": "price_per_unit",
                  "json": "price_per_unit",
                  "csv": "price_per_unit"
                }
              },
              "currency": {
                "x-go-type": "Currency",
                "x-oapi-codegen-extra-tags": {
                  "db": "currency",
                  "json": "currency",
                  "csv": "currency"
                },
                "type": "string",
                "enum": [
                  "usd"
                ]
              }
            },
            "required": [
              "id",
              "name",
              "cadence",
              "unit",
              "price_per_unit",
              "minimum_units",
              "price_id",
              "currency"
            ]
          },
          "name": {
            "x-go-type": "FeatureName",
            "x-oapi-codegen-extra-tags": {
              "db": "name"
            },
            "type": "string",
            "enum": [
              "ComponentsInDesign",
              "RelationshipsInDesign",
              "DesignsInWorkspace",
              "WorkspacesInOrganization",
              "ImageSizeInDesign",
              "SizePerDesign"
            ],
            "description": "Enumeration of possible feature types"
          },
          "quantity": {
            "type": "number",
            "description": "Quantity of the feature allowed, use 9999999999 for unlimited",
            "x-oapi-codegen-extra-tags": {
              "db": "quantity"
            }
          },
          "created_at": {
            "x-oapi-codegen-extra-tags": {
              "db": "created_at"
            },
            "type": "string",
            "format": "date-time",
            "x-go-type-skip-optional-pointer": true
          },
          "updated_at": {
            "x-oapi-codegen-extra-tags": {
              "db": "updated_at"
            },
            "type": "string",
            "format": "date-time",
            "x-go-type-skip-optional-pointer": true
          }
        },
        "additionalProperties": false
      }
    }
  }
}
